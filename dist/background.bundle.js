(()=>{"use strict";chrome.runtime.onInstalled.addListener((function(){console.log("Privacy Control with OpenAI extension installed."),chrome.contextMenus.create({id:"anonymize-text",title:"Anonymize text",contexts:["selection"]})})),chrome.contextMenus.onClicked.addListener((function(e,t){if("anonymize-text"===e.menuItemId){var n=e.selectionText||" ";console.log("Executing script with selected text:",n),i=function(e){chrome.scripting.executeScript({target:{tabId:e},files:["dist/script.bundle.js"]}).then((function(){console.log("Injected script file"),chrome.tabs.sendMessage(t.id,{action:"showFloatingBox",selectedText:n})})).catch((function(e){console.error("Failed to inject script:",e)}))},chrome.tabs.query({active:!0,currentWindow:!0},(function(e){i(e[0].id)}))}var i}))})();